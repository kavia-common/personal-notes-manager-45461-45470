{"is_source_file": true, "format": "JavaScript", "description": "This file defines a NotesService class that manages notes with in-memory storage and optional file persistence. It provides methods for listing, creating, retrieving, updating, and deleting notes. The class loads data from a JSON file on initialization and saves back to disk on changes.", "external_files": ["fs", "path"], "external_methods": ["fs.existsSync", "fs.mkdirSync", "fs.readFileSync", "fs.writeFileSync"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "A service class managing notes with in-memory storage and persistence to disk", "methods": [{"name": "constructor", "description": "Initializes the NotesService instance, loads notes from disk"}, {"name": "_ensureDataDir", "description": "Creates the data directory if it does not exist"}, {"name": "_loadFromDisk", "description": "Loads notes data from the JSON file"}, {"name": "_saveToDisk", "description": "Saves current notes data to the JSON file"}, {"name": "_generateId", "description": "Generates a unique ID for new notes"}, {"name": "list", "description": "Lists notes with optional text query and pagination"}, {"name": "create", "description": "Creates a new note with optional title and content"}, {"name": "getById", "description": "Retrieves a note by its ID"}, {"name": "update", "description": "Updates a note by its ID"}, {"name": "remove", "description": "Removes a note by its ID"}], "calls": ["fs.existsSync", "fs.mkdirSync", "fs.readFileSync", "fs.writeFileSync"], "search-terms": ["NotesService", "JSON persistence", "file storage", "notes management", "in-memory notes", "CRUD notes", "notes backend"]}], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^class NotesService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_ensureDataDir", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  _ensureDataDir() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "_generateId", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  _generateId() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "_loadFromDisk", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  _loadFromDisk() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "_saveToDisk", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  _saveToDisk() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  create({ title = '', content = '' }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ title = '', content = '' })", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^module.exports = new NotesService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "fs", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^const fs = require('fs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getById", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  getById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^      id: this._generateId(),$/", "language": "JavaScript", "kind": "property", "scope": "NotesService.create.note", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  list({ q, limit, offset } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ q, limit, offset } = {})", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^    const note = {$/", "language": "JavaScript", "kind": "class", "scope": "NotesService.create", "scopeKind": "class"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^const path = require('path');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  remove(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^      title,$/", "language": "JavaScript", "kind": "field", "scope": "NotesService.create.note", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-45461-45470/notes_backend/src/services/notes.js", "pattern": "/^  update(id, { title, content }) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, { title, content })", "scope": "NotesService", "scopeKind": "class"}], "hash": "b6e19ba61a5d10619a41dbd05b2be045", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/services/notes.js", "search-terms": [], "methods": [{"name": "_ensureDataDir()", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "_generateId()", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "_loadFromDisk()", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "_saveToDisk()", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor()", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "create({ title = '', content = '' })", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "getById(id)", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "list({ q, limit, offset } = {})", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "remove(id)", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "update(id, { title, content })", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}], "fields": [{"name": "module.exports = new NotesService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "id: this._generateId(),", "scope": "NotesService.create.note", "scopeKind": "class", "description": "unavailable"}, {"name": "title,", "scope": "NotesService.create.note", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}